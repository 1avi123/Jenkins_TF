pipeline {
agent any
 stages { 
   stage ('Checkout Repo') { 
     steps { 
       cleanWs()
       sh  'git clone https://github.com/UnixArena/emr_test.git'
      }
      } 
stage ('TF installation') { 
  steps {
   sh '''
    #!/bin/bash
    set +x 
    sudo yum install -y jq
    cd /usr/local/src
    sudo wget https://releases.hashicorp.com/terraform/0.12.25/terraform_0.12.25_linux_amd64.zip
    sudo unzip -o terraform_0.12.25_linux_amd64.zip
    sudo cp -rf terraform /usr/local/bin/
   /usr/local/bin/terraform --version
   ''' 
    }
   post { 
        always { 
            cleanWs()
        }
       }
    }
  }
}
